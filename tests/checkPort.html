<!DOCTYPE html>

<iframe src="http://127.0.0.1:7777/tests/CrossOrigin/iframeDiffPort.html" style="height:100%"></iframe>

<script>
function checkPort(){
	var port_check = '';
	var exception = '';
	try{
		frames[0].location.port;
		port_check = false;
	}catch(e) {
		if (e.code == DOMException.SECURITY_ERR){
			exception = 'Error: ' + e;
			port_check = true;
			console.log('Error: ' + e);
		}
		
	}	
	window.opener.display_result(port_check, exception);
}
</script>
<script>
window.opener.display_result(true, 'Uncaught SecurityError: Blocked a frame with different origin.');
</script>
